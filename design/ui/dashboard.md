[â† Back to README](README.md)

# Dashboard

<pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (AppBar)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [Logo] Finance App          [User] [<a href="./signin.md">Logout</a>]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Profile Selector                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Active Profile: [Personal â–¼]                      â”‚  â”‚
â”‚  â”‚   â€¢ Personal                                       â”‚  â”‚
â”‚  â”‚   â€¢ Business                                       â”‚  â”‚
â”‚  â”‚   â€¢ Family                                         â”‚  â”‚
â”‚  â”‚   + <a href="./manage-profiles.md">Create New Profile</a> â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  Quick Summary (Optional)                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Current Month (January 2024)                      â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚  â”‚
â”‚  â”‚ â”‚ Income    â”‚ â”‚ Expense  â”‚ â”‚ Balance  â”‚          â”‚  â”‚
â”‚  â”‚ â”‚ $2,500.00â”‚ â”‚ $1,800.00â”‚ â”‚ $700.00  â”‚          â”‚  â”‚
â”‚  â”‚ â”‚ (green)  â”‚ â”‚ (red)    â”‚ â”‚ (blue)   â”‚          â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  Action Buttons                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚ â”‚ + <a href="./create-transaction.md">Create Transaction</a>         â”‚ â”‚ ğŸ“‹ <a href="./view-transactions.md">View Transactions</a>          â”‚        â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ·ï¸  <a href="./edit-tags.md">Edit Tags</a>    â”‚ â”‚ ğŸ’± <a href="./manage-currencies.md">Manage Currencies</a>        â”‚        â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ“Š <a href="./statistics.md">Statistics</a>    â”‚ â”‚ ğŸ‘¤ <a href="./manage-profiles.md">Manage Profiles</a>        â”‚        â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚  â”‚
â”‚  â”‚ â”‚ ğŸ’¾ <a href="./backup-restore.md">Backup & Restore</a>        â”‚                              â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  [Guest Mode Indicator] (floating, right side)          â”‚
â”‚                                                          â”‚
â”‚  [Global Progress Bar] (top of page, when loading)     â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>

## Features

- **Profile Selector**: Dropdown showing active profile with option to switch or create new
- **Quick Summary**: Optional current month statistics (income, expense, balance)
- **Action Buttons**: Quick access to all main features
- **Guest Mode Indicator**: Floating icon on right side when in Guest Mode
- **Global Progress Bar**: Shows at top of page during API calls
- **Profile Switching**: Instant switching between profiles (no page reload)

## Guest Mode Indicator

The Guest Mode Indicator appears as a floating icon/button on the right side of the screen when Guest Mode is active:

- **Position**: Fixed at right edge (e.g., `position: fixed; right: 16px; top: 50%; transform: translateY(-50%)`)
- **Icon**: Material-UI icon (e.g., `PersonIcon` or `VisibilityIcon`)
- **Tooltip**: "Guest Mode - Using demo data" on hover
- **Click Action**: Optional dialog to exit Guest Mode
- **Styling**: Semi-transparent, subtle color, visible but not intrusive
- **Visibility**: Only visible when Guest Mode is active

## Global Progress Bar

The Global Progress Bar provides visual feedback for all API operations:

- **Position**: Fixed at top of page (`position: fixed; top: 0; left: 0; right: 0; z-index: 9999`)
- **Appearance**: Infinite progress indicator (LinearProgress component)
- **Visibility**: Automatically shows during API calls, hides when complete
- **Scope**: All server API calls trigger the progress bar
- **Request Counting**: Uses request counter to handle concurrent calls efficiently
- **No Clutter**: Single global indicator, not per-component spinners

## Profile Switching

- **Instant**: No API calls needed, just IndexedDB update
- **Dropdown**: Click profile selector to see all profiles
- **Active Indicator**: Current active profile is highlighted
- **Create New**: Option to create new profile from dropdown
- **Auto-Refresh**: Dashboard data refreshes after profile switch

## Component Structure

The Dashboard page consists of:

```
Dashboard
â”œâ”€â”€ Header (AppBar with user info, logout)
â”œâ”€â”€ ProfileSelector (dropdown showing active profile name, option to switch or create new)
â”œâ”€â”€ ActionButtons
â”‚   â”œâ”€â”€ CreateTransactionButton
â”‚   â”œâ”€â”€ ViewTransactionsButton
â”‚   â”œâ”€â”€ EditTagsButton
â”‚   â”œâ”€â”€ ManageCurrenciesButton
â”‚   â”œâ”€â”€ ViewStatisticsButton
â”‚   â””â”€â”€ ManageProfilesButton
â””â”€â”€ QuickSummary (optional: current month stats for active profile)
```

**Note:** 
- All transactions are associated with the currently active profile.
- Users can switch profiles from the dashboard to view different sets of transactions.

## User Flow

1. User sees dashboard with active profile displayed
2. User can switch profile from dropdown (instant, no loading)
3. Dashboard refreshes to show transactions for new profile
4. All actions (create transaction, view transactions, etc.) use active profile
5. User can create new profile from dropdown or manage profiles page

## App Startup Profile Selection Flow

At app startup, the system automatically:

1. Checks session and IndexedDB settings
2. Loads profiles from IndexedDB
3. If profiles empty in IndexedDB:
   - Auto-populates from database:
     - Fetches all transactions for current user
     - Extracts unique profile names
     - Adds profiles to IndexedDB
     - Sets first profile as active (if no active profile exists)
4. Loads active profile from IndexedDB settings
5. If active profile exists: Load transactions/tags for that profile from PostgreSQL â†’ Dashboard
6. If no active profile or profiles still empty: Redirects to Setup/Create Profile Flow
7. User can switch profile anytime from Dashboard
8. All profile switching happens instantly (IndexedDB lookup only)

**Note:** Profile auto-population runs silently at startup if IndexedDB profiles are empty. This ensures users who have transactions but lost their IndexedDB data (e.g., cleared browser data) can continue using the app without manual setup.

## UI/UX Guidelines

- Display active profile name prominently in the dashboard
- Make profile switching intuitive and easily accessible
- Use smooth animations for component transitions (150-300ms)
- Global progress bar shows during API calls
- Guest Mode indicator appears as floating icon on right side when active
- Responsive design: Mobile-first approach with breakpoints at 600px, 960px, 1280px